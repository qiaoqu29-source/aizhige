:root {
    /* --- 极简白调色板 --- */
    --bg-base: #F5F5F7;       /* 类似于高级灰纸张的底色 */
    --card-surface: #FFFFFF;  /* 纯白卡片面 */
    --text-primary: #1D1D1F;  /* 近似黑色的深灰，比纯黑更护眼 */
    --text-secondary: #86868B;
    --accent-color: #000000;  /* 强调色就是纯黑，极致的对比 */
    
    /* 弱化阴影，营造悬浮感而非厚重感 */
    --shadow-soft: 0 8px 24px rgba(0, 0, 0, 0.04), 0 2px 8px rgba(0, 0, 0, 0.02);
    --shadow-hover: 0 12px 32px rgba(0, 0, 0, 0.08), 0 4px 12px rgba(0, 0, 0, 0.04);
    
    --radius-l: 32px;
    --radius-m: 24px;
    --radius-s: 18px;
    
    --safe-top: env(safe-area-inset-top);
    --safe-bottom: env(safe-area-inset-bottom);
}

* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Helvetica Neue", sans-serif;
    height: 100dvh; width: 100vw; overflow: hidden; 
    background: var(--bg-base);
    color: var(--text-primary);
    -webkit-font-smoothing: antialiased; /* 字体抗锯齿 */
}

/* === 背景层 (移除图片，使用纯净微噪点) === */
#phone-wrapper {
    position: relative; width: 100%; height: 100%;
    background: var(--bg-base);
    /* 添加一点噪点纹理增加质感，避免死白 (可选) */
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
}

/* 状态栏 (黑色文字) */
.status-bar {
    height: calc(24px + var(--safe-top)); padding: var(--safe-top) 24px 0;
    display: flex; justify-content: space-between; align-items: center;
    font-size: 14px; font-weight: 600; color: var(--text-primary); z-index: 1000;
}
.battery { width: 24px; height: 12px; border: 1.5px solid var(--text-primary); border-radius: 3px; padding: 1px; }
.battery-level { width: 60%; height: 100%; background: var(--text-primary); }

/* === 桌面布局 === */
.desktop-layer {
    display: flex; flex-direction: column; height: 100%; position: relative; z-index: 10;
    padding: 10px 0;
}

/* === 1. Profile 卡片 (杂志封面风格) === */
.profile-card {
    margin: 10px 24px 30px; /* 增加左右边距，显得更透气 */
    height: auto; /* 高度自适应 */
    background: transparent; /* 去掉卡片背景，直接融入环境 */
    display: flex; flex-direction: column; align-items: flex-start; /* 左对齐 */
    border: none; box-shadow: none;
    padding: 20px 0;
}

.profile-bg { display: none; } /* 不需要背景图 */

.profile-avatar-wrap {
    width: 72px; height: 72px; 
    border-radius: 50%;
    position: relative; top: 0; left: 0; transform: none;
    margin-bottom: 24px;
    box-shadow: var(--shadow-soft);
}
.profile-avatar-wrap img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }

.profile-info { text-align: left; margin-top: 0; }
.p-name { 
    font-size: 34px; font-weight: 800; color: var(--text-primary); 
    letter-spacing: -1px; line-height: 1.1; margin-bottom: 8px;
}
.p-handle { 
    font-size: 15px; color: var(--text-secondary); font-weight: 500; 
    margin-bottom: 20px;
}
.p-handle::before { content: '@'; color: #ccc; }

.p-bio { display: none; /* 极简模式隐藏签名，留白 */ }
.p-location {
    display: inline-flex; align-items: center; justify-content: center;
    width: 40px; height: 40px; border-radius: 50%;
    background: #fff; box-shadow: var(--shadow-soft);
    font-size: 18px; color: var(--text-primary);
}

/* === 2. 中部组件 (大色块) === */
.dashboard-grid {
    padding: 0 24px; gap: 20px; flex: 1; align-items: flex-start;
}

/* 左侧：文字Widget变成纯白卡片 */
.widget-column { gap: 16px; }
.text-widget {
    background: var(--card-surface);
    border-radius: var(--radius-m);
    padding: 24px 20px;
    box-shadow: var(--shadow-soft);
    color: var(--text-primary);
    border: none;
    flex-direction: column; /* 垂直排列 */
    align-items: flex-start;
    justify-content: space-between;
    height: 140px; /* 固定高度 */
}
.text-widget span { font-size: 15px; font-weight: 600; line-height: 1.4; }
/* 装饰性的小圆点变成黑色 */
.text-widget .t-icon { 
    width: 8px; height: 8px; background: var(--accent-color); 
    opacity: 1; margin: 0;
}

/* 右侧：APP 网格 */
.mini-app-grid { gap: 16px; }
.mini-app-grid .app-item {
    background: var(--card-surface);
    border-radius: var(--radius-m);
    width: 100%; height: 100%;
    display: grid; place-items: center;
    box-shadow: var(--shadow-soft);
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}
.mini-app-grid .app-item:active { transform: scale(0.92); }

.mini-app-grid .app-icon {
    width: 100%; height: 100%;
    background: transparent !important; /* 去掉背景色 */
    color: var(--text-primary) !important;
    font-size: 28px;
    box-shadow: none; border-radius: 0;
    display: grid; place-items: center;
}
.mini-app-grid .app-name { display: none; /* 极简模式隐藏APP名字，只留图标 */ }

/* === 3. 底部 Dock (悬浮条) === */
.dock-container { padding: 0 30px 40px; }
.page-dots { margin-bottom: 20px; }
.dot { background: #D1D1D6; width: 6px; height: 6px; }
.dot.active { background: #1D1D1F; transform: scale(1.2); }

.dock {
    height: 80px;
    background: var(--card-surface);
    border-radius: 100px; /* 全圆角胶囊状 */
    box-shadow: 0 15px 40px rgba(0,0,0,0.08); /* 稍微强一点的浮起感 */
    border: none;
    padding: 0 20px;
    width: 100%;
    justify-content: space-between;
}

.dock .app-item { transform: none; width: 50px; height: 50px; display: grid; place-items: center; }
.dock .app-icon {
    width: auto; height: auto; 
    background: transparent !important; color: var(--text-primary) !important;
    font-size: 24px; font-weight: 500;
    display: grid; place-items: center;
}
.dock .app-name { display: none; } /* 隐藏 Dock 文字 */
/* 选中态/激活态可以用个小点标示，这里简单处理 */


/* === 窗口 & 聊天 (黑白风) === */
/* 窗口背景变白 */
.app-window, .chat-view, .scroll-area, .im-scroll { background: var(--bg-base); }

/* 导航栏纯白 */
.nav-bar {
    background: rgba(255,255,255,0.9); backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(0,0,0,0.05);
    color: var(--text-primary);
}
.nav-title { font-weight: 700; font-size: 18px; }
.nav-btn { color: var(--text-primary); }

/* 气泡样式重构 */
.im-bubble {
    background: #fff; color: #000;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    border-radius: 20px; padding: 14px 18px;
    font-weight: 400;
}
.im-row.user .im-bubble {
    background: #1D1D1F; color: #fff; /* 用户消息黑底白字 */
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
.im-input-wrap {
    background: #fff; border: none;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
}
.im-input { color: #000; }
.im-footer { background: var(--bg-base); border-top: none; }
.im-btn-icon { color: #1D1D1F; }

/* 模态框极简白 */
.modal-box { 
    background: #fff; border: none; 
    box-shadow: 0 30px 60px rgba(0,0,0,0.12);
}
.modal-input {
    background: #F5F5F7; color: #000;
}
.modal-label, .set-label { color: #1D1D1F; font-weight: 700; }

.noti-banner {
    background: #fff; border: none;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
}
.noti-icon { background: #000; color: #fff; border-radius: 50%; }
#noti-n { color: #000; } #noti-t { color: #666; }